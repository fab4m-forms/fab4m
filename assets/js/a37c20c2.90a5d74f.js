"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[429],{5162:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(7294),o=n(6010);const a="tabItem_Ymn6";function r(e){let{children:t,hidden:n,className:r}=e;return l.createElement("div",{role:"tabpanel",className:(0,o.Z)(a,r),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>p});var l=n(7462),o=n(7294),a=n(6010),r=n(2389),u=n(7392),i=n(7094),s=n(2466);const c="tabList__CuJ",d="tabItem_LNqP";function m(e){var t,n;const{lazy:r,block:m,defaultValue:p,values:b,groupId:h,className:y}=e,f=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=b?b:f.map((e=>{let{props:{value:t,label:n,attributes:l}}=e;return{value:t,label:n,attributes:l}})),g=(0,u.l)(v,((e,t)=>e.value===t.value));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const k=null===p?p:null!=(t=null!=p?p:null==(n=f.find((e=>e.props.default)))?void 0:n.props.value)?t:f[0].props.value;if(null!==k&&!v.some((e=>e.value===k)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+v.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:w,setTabGroupChoices:x}=(0,i.U)(),[C,F]=(0,o.useState)(k),E=[],{blockElementScrollPositionUntilNextRender:S}=(0,s.o5)();if(null!=h){const e=w[h];null!=e&&e!==C&&v.some((t=>t.value===e))&&F(e)}const T=e=>{const t=e.currentTarget,n=E.indexOf(t),l=v[n].value;l!==C&&(S(t),F(l),null!=h&&x(h,String(l)))},D=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var l;const t=E.indexOf(e.currentTarget)+1;n=null!=(l=E[t])?l:E[0];break}case"ArrowLeft":{var o;const t=E.indexOf(e.currentTarget)-1;n=null!=(o=E[t])?o:E[E.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,a.Z)("tabs-container",c)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":m},y)},v.map((e=>{let{value:t,label:n,attributes:r}=e;return o.createElement("li",(0,l.Z)({role:"tab",tabIndex:C===t?0:-1,"aria-selected":C===t,key:t,ref:e=>E.push(e),onKeyDown:D,onFocus:T,onClick:T},r,{className:(0,a.Z)("tabs__item",d,null==r?void 0:r.className,{"tabs__item--active":C===t})}),null!=n?n:t)}))),r?(0,o.cloneElement)(f.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function p(e){const t=(0,r.Z)();return o.createElement(m,(0,l.Z)({key:String(t)},e))}},9842:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7294),o=n(1262),a=n(2406),r=n(5488),u=n(5162);function i(e){return l.createElement(r.Z,null,l.createElement(u.Z,{value:"code",label:"Code"},l.createElement(a.Z,{language:"jsx"},e.source)),l.createElement(u.Z,{value:"example",label:"Example"},l.createElement(o.Z,null,(()=>e.example))))}},3459:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>p,default:()=>v,frontMatter:()=>m,metadata:()=>b,toc:()=>y});var l=n(7462),o=n(7294),a=n(3905),r=n(9842),u=n(891);const i=(0,u.Np)({city:(0,u.$S)({label:"City"}),inCityCenter:(0,u.Qr)({label:"Do you live in the city center?"}),streetCars:(0,u.Qr)({label:"Do you use street cars?",rules:[["city",(0,u.fS)("Gothenburg")],["inCityCenter",(0,u.fS)(!0)]]}),subway:(0,u.Qr)({label:"Do you use the subway?",rules:[["city",(0,u.fS)("Stockholm")]]}),usage:(0,u.OL)({label:"How may times do you use public transport per week?"}),expensive:(0,u.Qr)({label:"Do you think public transport is too expensive?",rules:[["usage",(0,u.Fp)(3)]]})});function s(){return o.createElement(u.H,{form:i,hideSubmit:!0})}const c=(0,u.Np)({city:(0,u.$S)({label:"City"}),usage:(0,u.OL)({label:"How may times do you use public transport per week?"}),expensive:(0,u.Qr)({label:"Do you think public transport is too expensive?",rules:[(0,u.or)([["city",(0,u.fS)("Gothenburg")],["usage",(0,u.Fp)(5)]])]})});function d(){return o.createElement(u.H,{form:c,hideSubmit:!0})}const m={sidebar_position:7},p="Component Rules",b={unversionedId:"guide/rules",id:"guide/rules",title:"Component Rules",description:"There might be situations where you want to optionally show or hide some components",source:"@site/docs/guide/rules.mdx",sourceDirName:"guide",slug:"/guide/rules",permalink:"/docs/guide/rules",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Component Validators",permalink:"/docs/guide/validators"},next:{title:"Validation with JSON Schema",permalink:"/docs/guide/validation"}},h={},y=[{value:"Adding rules to a component",id:"adding-rules-to-a-component",level:2},{value:"Rule groups",id:"rule-groups",level:2},{value:"Custom rules",id:"custom-rules",level:2},{value:"Check out the widget library",id:"check-out-the-widget-library",level:2}],f={toc:y};function v(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,l.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"component-rules"},"Component Rules"),(0,a.kt)("p",null,"There might be situations where you want to optionally show or hide some components\ndepending on the input in other components. This is what component rules are for."),(0,a.kt)("h2",{id:"adding-rules-to-a-component"},"Adding rules to a component"),(0,a.kt)("p",null,"When defining your components you can add a list of rules that needs to be fulfilled\nin order for the component to be visible:"),(0,a.kt)(r.Z,{source:'import * as React from "react";\nimport {\n  textField,\n  integerField,\n  booleanField,\n  equals,\n  max,\n  createForm,\n  StatefulFormView,\n} from "@fab4m/fab4m";\n\nconst form = createForm({\n  city: textField({ label: "City" }),\n  inCityCenter: booleanField({ label: "Do you live in the city center?" }),\n  streetCars: booleanField({\n    label: "Do you use street cars?",\n    rules: [\n      ["city", equals("Gothenburg")],\n      ["inCityCenter", equals(true)],\n    ],\n  }),\n  subway: booleanField({\n    label: "Do you use the subway?",\n    rules: [["city", equals("Stockholm")]],\n  }),\n  usage: integerField({\n    label: "How may times do you use public transport per week?",\n  }),\n  expensive: booleanField({\n    label: "Do you think public transport is too expensive?",\n    rules: [["usage", max(3)]],\n  }),\n});\n\nexport default function BasicRules() {\n  return <StatefulFormView form={form} hideSubmit={true} />;\n}\n',example:(0,a.kt)(s,{mdxType:"BasicRules"}),mdxType:"Example"}),(0,a.kt)("h2",{id:"rule-groups"},"Rule groups"),(0,a.kt)("p",null,"By default, rules are logically ANDed together."),(0,a.kt)("p",null,"You can use logical groups to override this."),(0,a.kt)(r.Z,{source:'import React from "react";\nimport {\n  textField,\n  integerField,\n  booleanField,\n  equals,\n  max,\n  createForm,\n  StatefulFormView,\n  or,\n} from "@fab4m/fab4m";\n\nconst form = createForm({\n  city: textField({ label: "City" }),\n  usage: integerField({\n    label: "How may times do you use public transport per week?",\n  }),\n  expensive: booleanField({\n    label: "Do you think public transport is too expensive?",\n    rules: [\n      or([\n        ["city", equals("Gothenburg")],\n        ["usage", max(5)],\n      ]),\n    ],\n  }),\n});\n\nexport default function BasicRules() {\n  return <StatefulFormView form={form} hideSubmit={true} />;\n}\n',example:(0,a.kt)(d,{mdxType:"RuleGroups"}),mdxType:"Example"}),(0,a.kt)("p",null,"Rule functions can also be nested:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'expensive: booleanField({\n  title: "Do you think public transport is too expensive?",\n  rules: [or([equals("city", "Gothenburg"), and([greaterThan("usage", 5), lessThan(10)]))],\n}),\n')),(0,a.kt)("h2",{id:"custom-rules"},"Custom rules"),(0,a.kt)("p",null,"You can use the callback rule to provide any logic you want for your form."),(0,a.kt)("h2",{id:"check-out-the-widget-library"},"Check out the widget library"),(0,a.kt)("p",null,"Fab4m comes with several rules, check them out in the ",(0,a.kt)("em",{parentName:"p"},"Rule reference"),". Also, check the ",(0,a.kt)("em",{parentName:"p"},"extension guide")," on how to create your own widgets."))}v.isMDXComponent=!0}}]);