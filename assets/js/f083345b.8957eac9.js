"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5110],{3934:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>z,contentTitle:()=>L,default:()=>A,frontMatter:()=>D,metadata:()=>a,toc:()=>R});const a=JSON.parse('{"id":"packages/date","title":"Date and time","description":"The @fab4m/date packages provides date and datetime components using the popular","source":"@site/docs/packages/date.md","sourceDirName":"packages","slug":"/packages/date","permalink":"/docs/packages/date","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Autocomplete","permalink":"/docs/packages/autocomplete"},"next":{"title":"Form builder","permalink":"/docs/packages/formbuilder"}}');var i=n(74848),r=n(28453),d=n(53603),o=n(96540),s=n(38679),l=n(1173);n(97347);const c=(0,l.DG)({birthday:(0,s.xd)({label:"Your birthday"}),appointment:(0,s.eW)({label:"Your appointment time"}),vacation:(0,s.KB)({label:"Enter your desired vacation"})});function h(){const[e,t]=o.useState(null);return c.onSubmit(((e,n)=>{e.preventDefault(),t(n)})),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.WJ,{form:c}),e&&(0,i.jsxs)("dl",{children:[(0,i.jsx)("dt",{children:"Birthday"}),(0,i.jsx)("dd",{children:e.birthday?.toLocaleString()}),(0,i.jsx)("dt",{children:"Appointment"}),(0,i.jsx)("dd",{children:e.appointment?.toLocaleString()}),(0,i.jsx)("dt",{children:"Vacation"}),(0,i.jsxs)("dd",{children:[e.vacation?.from.toLocaleString()," -"," ",e.vacation?.to.toLocaleString()]})]})]})}const m='import * as React from "react";\nimport { dateField, dateTimeField, dateRangeField } from "@fab4m/date";\nimport { StatefulFormView, createForm } from "@fab4m/fab4m";\nimport "react-datepicker/dist/react-datepicker.css";\n\nconst form = createForm({\n  birthday: dateField({\n    label: "Your birthday",\n  }),\n  appointment: dateTimeField({\n    label: "Your appointment time",\n  }),\n  vacation: dateRangeField({\n    label: "Enter your desired vacation",\n  }),\n});\n\nexport default function DateExamples() {\n  const [result, changeResult] = React.useState(null);\n  form.onSubmit((e, data) => {\n    e.preventDefault();\n    changeResult(data);\n  });\n  return (\n    <div>\n      <StatefulFormView form={form} />\n      {/* The data that comes out of the form are dates. */}\n      {result && (\n        <dl>\n          <dt>Birthday</dt>\n          <dd>{result.birthday?.toLocaleString()}</dd>\n          <dt>Appointment</dt>\n          <dd>{result.appointment?.toLocaleString()}</dd>\n          <dt>Vacation</dt>\n          {/* The date range is two dates, from and to.*/}\n          <dd>\n            {result.vacation?.from.toLocaleString()} -{" "}\n            {result.vacation?.to.toLocaleString()}\n          </dd>\n        </dl>\n      )}\n    </div>\n  );\n}\n';var p=n(7192);const u=(0,l.DG)({birthday:(0,s.xd)({label:"Your birthday",widget:(0,s.T2)({locale:p.sv})})});function f(){return(0,i.jsx)("div",{children:(0,i.jsx)(l.WJ,{form:u,hideSubmit:!0})})}const g='import * as React from "react";\nimport { dateField, datePickerWidget } from "@fab4m/date";\nimport { sv } from "date-fns/locale";\nimport { StatefulFormView, createForm } from "@fab4m/fab4m";\nimport "react-datepicker/dist/react-datepicker.css";\n\nconst form = createForm({\n  birthday: dateField({\n    label: "Your birthday",\n    widget: datePickerWidget({\n      locale: sv,\n    }),\n  }),\n});\n\nexport default function SingleLocale() {\n  return (\n    <div>\n      <StatefulFormView form={form} hideSubmit={true} />\n    </div>\n  );\n}\n';var x=n(30134),b=n(90141);const j=(0,l.DG)({birthday:(0,s.xd)({label:"Your birthday",widget:(0,s.T2)({locales:[p.sv,x.de,b.fi],useBrowserLocale:!0})})});function v(){return(0,i.jsx)("div",{children:(0,i.jsx)(l.WJ,{form:j,hideSubmit:!0})})}const w='import * as React from "react";\nimport { dateField, datePickerWidget } from "@fab4m/date";\nimport { sv, de, fi } from "date-fns/locale";\nimport { StatefulFormView, createForm } from "@fab4m/fab4m";\nimport "react-datepicker/dist/react-datepicker.css";\n\nconst form = createForm({\n  birthday: dateField({\n    label: "Your birthday",\n    widget: datePickerWidget({\n      locales: [sv, de, fi],\n      useBrowserLocale: true,\n    }),\n  }),\n});\n\nexport default function BrowserLocale() {\n  return (\n    <div>\n      <StatefulFormView form={form} hideSubmit={true} />\n    </div>\n  );\n}\n',k=(0,l.DG)({birthday:(0,s.xd)({label:"Your birthday",widget:(0,s.T2)({format:"yyyy-MM-dd"})})});function y(){return(0,i.jsx)("div",{children:(0,i.jsx)(l.WJ,{form:k,hideSubmit:!0})})}const F='import * as React from "react";\nimport { dateField, datePickerWidget } from "@fab4m/date";\nimport { StatefulFormView, createForm } from "@fab4m/fab4m";\nimport "react-datepicker/dist/react-datepicker.css";\n\nconst form = createForm({\n  birthday: dateField({\n    label: "Your birthday",\n    widget: datePickerWidget({\n      format: "yyyy-MM-dd",\n    }),\n  }),\n});\n\nexport default function CustomFormat() {\n  return (\n    <div>\n      <StatefulFormView form={form} hideSubmit={true} />\n    </div>\n  );\n}\n',S=(0,l.DG)({inline:(0,s.xd)({label:"Inline datepicker",widget:(0,s.T2)({datePickerProps:{inline:!0}})}),as_function:(0,s.xd)({label:"Start from 1990, if not selected",widget:(0,s.T2)({datePickerProps:e=>({openToDate:e?void 0:new Date("1990-01-01")})})})});function T(){return(0,i.jsx)("div",{children:(0,i.jsx)(l.WJ,{form:S,hideSubmit:!0})})}const P='import * as React from "react";\nimport { dateField, datePickerWidget } from "@fab4m/date";\nimport { StatefulFormView, createForm } from "@fab4m/fab4m";\nimport "react-datepicker/dist/react-datepicker.css";\n\nconst form = createForm({\n  inline: dateField({\n    label: "Inline datepicker",\n    widget: datePickerWidget({\n      datePickerProps: { inline: true },\n    }),\n  }),\n  as_function: dateField({\n    label: "Start from 1990, if not selected",\n    widget: datePickerWidget({\n      // The props can also be a function where the current value is passed in.\n      datePickerProps: (value) => ({\n        openToDate: !value ? new Date("1990-01-01") : undefined,\n      }),\n    }),\n  }),\n});\n\nexport default function CustomDatePickerProps() {\n  return (\n    <div>\n      <StatefulFormView form={form} hideSubmit={true} />\n    </div>\n  );\n}\n',D={},L="Date and time",z={},R=[{value:"Installing",id:"installing",level:2},{value:"Using the date fields",id:"using-the-date-fields",level:2},{value:"The datepicker widget",id:"the-datepicker-widget",level:2},{value:"Date format",id:"date-format",level:3},{value:"Fixed locale",id:"fixed-locale",level:3},{value:"Using the browser locale",id:"using-the-browser-locale",level:3},{value:"Customizing React datepicker properties",id:"customizing-react-datepicker-properties",level:3}];function W(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"date-and-time",children:"Date and time"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"@fab4m/date"})," packages provides date and datetime components using the popular\n",(0,i.jsx)(t.a,{href:"https://reactdatepicker.com/",children:"react-datepicker"})," package."]}),"\n",(0,i.jsx)(t.h2,{id:"installing",children:"Installing"}),"\n",(0,i.jsx)(t.p,{children:"Install @fab4m/date and react-datepicker (4.2.x)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm install --save @fab4m/date react-datepicker\n"})}),"\n",(0,i.jsx)(t.h2,{id:"using-the-date-fields",children:"Using the date fields"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"@fab4m/date"})," provides three field types: ",(0,i.jsx)(t.code,{children:"dateField"}),", ",(0,i.jsx)(t.code,{children:"dateTimeField"})," and ",(0,i.jsx)(t.code,{children:"dateRangeField"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"The following example shows them in action:"}),"\n",(0,i.jsx)(d.A,{source:m,example:(0,i.jsx)(h,{})}),"\n",(0,i.jsx)(t.h2,{id:"the-datepicker-widget",children:"The datepicker widget"}),"\n",(0,i.jsx)(t.p,{children:"The datepicker widget is used by default on all date and datetime fields. It has several\nsettings that let's you customize how it works."}),"\n",(0,i.jsx)(t.h3,{id:"date-format",children:"Date format"}),"\n",(0,i.jsxs)(t.p,{children:["You can customize the format of the date when it's displayed inside of the input field.\nThe formatting options are provided by the ",(0,i.jsx)(t.a,{href:"https://date-fns.org/v2.29.3/docs/format",children:"date-fns"})," package."]}),"\n",(0,i.jsx)(d.A,{source:F,example:(0,i.jsx)(y,{})}),"\n",(0,i.jsx)(t.h3,{id:"fixed-locale",children:"Fixed locale"}),"\n",(0,i.jsxs)(t.p,{children:["You can set a fixed locale for your datepicker field by providing a ",(0,i.jsx)(t.a,{href:"https://date-fns.org/v2.29.3/docs/Locale/",children:"date-fns locale"}),". This will make the datepicker format the dates according to the specified\nlocale, no matter what locale the browser has:"]}),"\n",(0,i.jsx)(d.A,{source:g,example:(0,i.jsx)(f,{})}),"\n",(0,i.jsx)(t.h3,{id:"using-the-browser-locale",children:"Using the browser locale"}),"\n",(0,i.jsx)(t.p,{children:"If you want to support multiple locales you can provide a list of all supported locales as a setting.\nThe datepicker widget will try to find out the browser locale and use the locale if it's provided in the list."}),"\n",(0,i.jsx)(t.p,{children:"The first locale in the list will be used as a default."}),"\n",(0,i.jsx)(d.A,{source:w,example:(0,i.jsx)(v,{})}),"\n",(0,i.jsx)(t.h3,{id:"customizing-react-datepicker-properties",children:"Customizing React datepicker properties"}),"\n",(0,i.jsx)(t.p,{children:"react-datepicker supports many options and you might want to customize them according to your needs. You can do this by passing in the properties you want in the datePicker widget settings:"}),"\n",(0,i.jsx)(d.A,{source:P,example:(0,i.jsx)(T,{})}),"\n",(0,i.jsx)(t.admonition,{type:"caution",children:(0,i.jsx)(t.p,{children:"Properties passed to react datepicker aren't serialized with your form, since we can't\npossibly support serializing all of the possible configurations!"})}),"\n",(0,i.jsx)(t.h1,{id:"the-date-range-widget",children:"The date range widget"}),"\n",(0,i.jsx)(t.p,{children:"The date range widget is used with the date range field. It supports all settings from the date picker\nwidget above and the following additional settings:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"fromLabel"}),": The text that is displayed inside of the from input field."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"toLabel"}),": The text that is is displayed inside of the to input field."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"optionalEndDate"}),": This makes the end date optional."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"withTime"}),": If this is true, then you get the option to specify the time in the date range, not just the dates."]}),"\n"]}),"\n",(0,i.jsx)(t.h1,{id:"unserializing-date-widget-settings",children:"Unserializing date widget settings"}),"\n",(0,i.jsx)(t.p,{children:"The locale and locales settings are stored just as a language code when a date widget is serialized. In order to unserialize the widget properly, you need to provide\nthe available locales, so that the language codes can be converted to locale objects."}),"\n",(0,i.jsxs)(t.p,{children:["This is done by calling the ",(0,i.jsx)(t.code,{children:"setLocales()"})," function before unserializing:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",children:'import { enUS, sv } from "date-fns/locale";\nimport { setLocales } from "@fab4m/date"\nsetLocales([enUS, sv]);\n'})}),"\n",(0,i.jsx)(t.p,{children:"Now it's safe to go on and unserialize your forms."})]})}function A(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(W,{...e})}):W(e)}},53603:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);var a=n(35363),i=n(55875),r=n(65537),d=n(79329),o=n(74848);function s(e){return(0,o.jsxs)(r.A,{children:[(0,o.jsx)(d.A,{value:"code",label:"Code",children:(0,o.jsx)(i.A,{language:"jsx",children:e.source})}),(0,o.jsx)(d.A,{value:"example",label:"Example",children:(0,o.jsx)(a.A,{children:()=>e.example})})]})}}}]);