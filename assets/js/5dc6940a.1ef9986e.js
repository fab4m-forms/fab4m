"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[822],{5162:(e,a,t)=>{t.d(a,{Z:()=>l});var s=t(7294),r=t(6010);const n="tabItem_Ymn6";function l(e){let{children:a,hidden:t,className:l}=e;return s.createElement("div",{role:"tabpanel",className:(0,r.Z)(n,l),hidden:t},a)}},5488:(e,a,t)=>{t.d(a,{Z:()=>m});var s=t(7462),r=t(7294),n=t(6010),l=t(2389),i=t(7392),o=t(7094),d=t(2466);const p="tabList__CuJ",u="tabItem_LNqP";function c(e){var a,t;const{lazy:l,block:c,defaultValue:m,values:w,groupId:v,className:f}=e,h=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=w?w:h.map((e=>{let{props:{value:a,label:t,attributes:s}}=e;return{value:a,label:t,attributes:s}})),b=(0,i.l)(g,((e,a)=>e.value===a.value));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const k=null===m?m:null!=(a=null!=m?m:null==(t=h.find((e=>e.props.default)))?void 0:t.props.value)?a:h[0].props.value;if(null!==k&&!g.some((e=>e.value===k)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+g.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:y,setTabGroupChoices:P}=(0,o.U)(),[E,N]=(0,r.useState)(k),q=[],{blockElementScrollPositionUntilNextRender:T}=(0,d.o5)();if(null!=v){const e=y[v];null!=e&&e!==E&&g.some((a=>a.value===e))&&N(e)}const O=e=>{const a=e.currentTarget,t=q.indexOf(a),s=g[t].value;s!==E&&(T(a),N(s),null!=v&&P(v,String(s)))},C=e=>{var a;let t=null;switch(e.key){case"ArrowRight":{var s;const a=q.indexOf(e.currentTarget)+1;t=null!=(s=q[a])?s:q[0];break}case"ArrowLeft":{var r;const a=q.indexOf(e.currentTarget)-1;t=null!=(r=q[a])?r:q[q.length-1];break}}null==(a=t)||a.focus()};return r.createElement("div",{className:(0,n.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.Z)("tabs",{"tabs--block":c},f)},g.map((e=>{let{value:a,label:t,attributes:l}=e;return r.createElement("li",(0,s.Z)({role:"tab",tabIndex:E===a?0:-1,"aria-selected":E===a,key:a,ref:e=>q.push(e),onKeyDown:C,onFocus:O,onClick:O},l,{className:(0,n.Z)("tabs__item",u,null==l?void 0:l.className,{"tabs__item--active":E===a})}),null!=t?t:a)}))),l?(0,r.cloneElement)(h.filter((e=>e.props.value===E))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},h.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==E})))))}function m(e){const a=(0,l.Z)();return r.createElement(c,(0,s.Z)({key:String(a)},e))}},9842:(e,a,t)=>{t.d(a,{Z:()=>o});var s=t(7294),r=t(1262),n=t(2406),l=t(5488),i=t(5162);function o(e){return s.createElement(l.Z,null,s.createElement(i.Z,{value:"code",label:"Code"},s.createElement(n.Z,{language:"jsx"},e.source)),s.createElement(i.Z,{value:"example",label:"Example"},s.createElement(r.Z,null,(()=>e.example))))}},8497:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>A,contentTitle:()=>D,default:()=>z,frontMatter:()=>$,metadata:()=>_,toc:()=>R});var s=t(7462),r=t(7294),n=t(3905),l=t(9842),i=t(891);const o={password:"",confirmPassword:""};function d(e){return null!=e?e:o}const p={password:"",oldPassword:"",confirmPassword:""};function u(e){return null!=e?e:p}const c=function(e){return r.createElement(i.II,Object.assign({},e,{type:"password"}))};var m=t(655);function w(e){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",className:e.className},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{fill:"green",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))}function v(e){const a=e.theme.classes;return e.valid?r.createElement(w,{className:a.descriptionItemIcon}):r.createElement("div",{className:a.descriptionItemPlaceholder})}const f=e=>{let a="";return e.requiredLetter&&(a+="(?=.*[A-Za-z])"),e.requiredNumber&&(a+="(?=.*\\d)"),e.requiredSpecialChar&&(a+="(?=.*[@$!%*#?&])"),`^${a}.{${e.minLength},}$`},h={name:"password",title:"Password",schema:(e,a)=>{const t=f(e);return"string"===a.type?{pattern:t}:{password:{type:"string",pattern:t}}},validatorInfo:function(e){const a=[];if(!e.value)return null;const t="string"==typeof e.value?e.value:e.value.password;return e.settings.requiredLetter&&a.push(r.createElement("li",{className:e.theme.classes.descriptionItem,key:a.length},r.createElement(v,{valid:/\w/.test(t),theme:e.theme}),r.createElement("span",null,"The password needs to include at least one letter"))),e.settings.requiredNumber&&a.push(r.createElement("li",{className:e.theme.classes.descriptionItem,key:a.length},r.createElement(v,{valid:/[0-9]/.test(t),theme:e.theme}),r.createElement("span",null,"The password needs to include at least one number"))),e.settings.requiredSpecialChar&&a.push(r.createElement("li",{className:e.theme.classes.descriptionItem,key:a.length},r.createElement(v,{valid:/[@$!%*#?&]/.test(t),theme:e.theme}),r.createElement("span",null,"The password needs to include at least one special character"))),r.createElement("ul",{className:e.theme.classes.descriptionList},r.createElement("li",{className:e.theme.classes.descriptionItem},r.createElement(v,{valid:t.length>=e.settings.minLength,theme:e.theme}),r.createElement("span",null,"The password needs to contain at least ",e.settings.minLength," ","characters")),a)},attributes:e=>({pattern:f(e.settings)}),valid:(e,a)=>new RegExp(f(a)).test("string"==typeof e?e:e.password),defaultSettings:{minLength:8,requiredLetter:!0,requiredNumber:!0,requiredSpecialChar:!1},components:["password","passwordVerify","passwordValidateOld"],schemaErrorMessages:()=>({"properties/password/pattern":()=>"The password isn't strong enough"})},g={name:"password",title:"Password verify",schema:()=>({}),defaultSettings:{},components:["passwordVerifyOld"],validate:(e,a)=>(0,m.mG)(void 0,void 0,void 0,(function*(){if(!a.validateOldPassword)return[];return(yield a.validateOldPassword(e.oldPassword))?[]:[{path:"",message:"The old password did not match."}]})),valid:()=>!0};const b={name:"password",title:"Password",dataType:"string"},k={name:"passwordVerify",title:"Password (With verification)",dataType:"object",schema:e=>({type:"object",title:e.label,properties:{password:{type:"string",title:"Password"},confirmPassword:{type:"string",title:"Confirm password",const:{$data:`/${e.name}/password`}}},required:e.required?["password","confirmPassword"]:void 0}),schemaErrorMessages:()=>({"properties/confirmPassword/const":()=>"The passwords don't match"})},y={name:"passwordValidateOld",title:"Password, Validate old password",dataType:"string",schema:e=>({type:"object",title:e.label,properties:{password:{type:"string",title:"Password",minLength:e.required?1:void 0},confirmPassword:{type:"string",title:"Confirm password",minLength:e.required?1:void 0},oldPassword:{type:"string",title:"Old password",minLength:e.required?1:void 0}},required:e.required?["password","confirmPassword","oldPassword"]:void 0})};function P(e){return(0,i.jf)(Object.assign({settings:void 0,type:b,widget:q()},e))}function E(e){return(0,i.jf)(Object.assign({settings:{},widget:(0,i.Zg)({type:C,settings:{confirmTitle:"Confirm password",oldPasswordLabel:"Old password"}}),type:y},e))}const N={name:"password",title:"Password",widget:c,components:["password"],init:q};function q(){return(0,i.Zg)({type:N,settings:void 0})}const T={name:"passwordVerify",title:"Password",widget:function(e){var a,t,s,n,l;const o=e.component,p=`${e.id}_confirm`,u=e.settings.confirmTitle?e.settings.confirmTitle:"Confirm password";return r.createElement(r.Fragment,null,r.createElement("div",{className:e.theme.classes.componentWrapper},r.createElement(i.yy,Object.assign({},e),r.createElement("input",Object.assign({type:"password",className:e.theme.classes.input,required:o.required,value:null!==(t=null===(a=e.value)||void 0===a?void 0:a.password)&&void 0!==t?t:"",onChange:a=>e.onChange(Object.assign(Object.assign({},d(e.value)),{password:a.currentTarget.value})),name:`${e.name}[password]`,id:e.id},e.attributes)))),r.createElement("div",{className:e.theme.classes.componentWrapper},r.createElement(i.yy,Object.assign({},e,{id:p,label:u}),r.createElement("input",{type:"password",className:e.theme.classes.input,required:o.required||!!(null===(s=e.value)||void 0===s?void 0:s.password),value:null!==(l=null===(n=e.value)||void 0===n?void 0:n.confirmPassword)&&void 0!==l?l:"",onChange:a=>e.onChange(Object.assign(Object.assign({},d(e.value)),{confirmPassword:a.currentTarget.value})),name:`${e.name}[confirmPassword]`,id:`${e.id}-confirmPassword`,pattern:e.value?`^${e.value.password}$`:void 0}),e.value&&e.value.password.length>0&&e.value.confirmPassword===e.value.password&&r.createElement("div",{className:e.theme.classes.descriptionOk},"The password matches!"))))},components:["passwordVerify"],init:e=>O(null==e?void 0:e.confirmTitle)};function O(e="Confirm password"){return(0,i.Zg)({type:T,settings:{confirmTitle:e}})}const C={name:"passwordValidateOld",title:"Password",widget:function(e){var a,t,s,n,l,o,d,p,c,m;const w=e.component,v=`${e.id}_confirm`,f=e.settings.confirmTitle?e.settings.confirmTitle:"Confirm password",h=null!==(a=e.settings.oldPasswordLabel)&&void 0!==a?a:"Old password",g=e.theme.classes;return r.createElement(r.Fragment,null,r.createElement("div",{className:e.theme.classes.componentWrapper},r.createElement(i.Wg,{labelClass:g.label,childrenClass:g.elementWrapper,required:w.required,requiredText:null!==(s=null===(t=e.labels)||void 0===t?void 0:t.required)&&void 0!==s?s:"Required",requiredClass:g.requiredIndicator,labelWrapperClass:g.labelWrapper,id:e.name,label:h},r.createElement("input",Object.assign({type:"password",className:g.input,required:w.required||e.value&&e.value.oldPassword.length>0,value:null===(n=e.value)||void 0===n?void 0:n.oldPassword,onChange:a=>e.onChange(Object.assign(Object.assign({},u(e.value)),{oldPassword:a.currentTarget.value})),name:`${e.name}[oldpassword]`,id:`${e.id}_oldpassword`},e.attributes)))),r.createElement("div",{className:e.theme.classes.componentWrapper},r.createElement(i.Wg,{labelClass:g.label,childrenClass:g.elementWrapper,required:w.required,requiredText:null!==(o=null===(l=e.labels)||void 0===l?void 0:l.required)&&void 0!==o?o:"Required",requiredClass:g.requiredIndicator,labelWrapperClass:g.labelWrapper,id:e.id,label:w.label},r.createElement("input",Object.assign({type:"password",className:g.input,required:w.required,value:null===(d=e.value)||void 0===d?void 0:d.password,onChange:a=>e.onChange(Object.assign(Object.assign({},u(e.value)),{password:a.currentTarget.value})),name:`${e.name}[password]`,id:e.id},e.attributes)))),r.createElement("div",{className:e.theme.classes.componentWrapper},r.createElement(i.Wg,{labelClass:g.label,childrenClass:g.elementWrapper,required:w.required,requiredText:null!==(c=null===(p=e.labels)||void 0===p?void 0:p.required)&&void 0!==c?c:"Required",requiredClass:g.requiredIndicator,labelWrapperClass:g.labelWrapper,id:v,label:f},r.createElement("input",{type:"password",className:g.input,required:w.required,value:null===(m=e.value)||void 0===m?void 0:m.confirmPassword,onChange:a=>e.onChange(Object.assign(Object.assign({},u(e.value)),{confirmPassword:a.currentTarget.value})),name:`${e.name}[confirmPassword]`,id:`${e.id}_confirm`,pattern:e.value?`^${e.value.password}$`:void 0}),e.value&&e.value.password.length>0&&e.value.confirmPassword===e.value.password&&r.createElement("div",{className:g.descriptionOk},"The password matches!"))))},components:["passwordValidateOld"]};const V=(0,i.Np)({password:P({label:"Password"}),verifyDescription:(0,i.kQ)({},(()=>r.createElement("h3",null,"Password with verifaction"))),passwordVerify:(x={label:"Password"},(0,i.jf)(Object.assign({settings:{},widget:O(),type:k},x))),validateDescription:(0,i.kQ)({},(()=>r.createElement("h3",null,"Password with validation"))),passwordValidate:E({label:"Password"})}).onSubmit((e=>e.preventDefault()));var x;function F(){return r.createElement(i.H,{form:V})}const j=(0,i.Np)({password:P({label:"Password",validators:[(L={minLength:8,requiredLetter:!0,requiredNumber:!0,requiredSpecialChar:!0},{type:h,settings:null!=L?L:h.defaultSettings})]})}).onSubmit((e=>e.preventDefault()));var L;function S(){return r.createElement(i.H,{form:j})}const I=(0,i.Np)({passwordValidate:E({label:"Password",validators:[(Z=async e=>"oldpassword"===e,{type:g,settings:{validateOldPassword:Z}})]})}).onSubmit((e=>e.preventDefault()));var Z;function W(){return r.createElement(i.H,{form:I})}const $={},D="Password",_={unversionedId:"packages/password",id:"packages/password",title:"Password",description:"The @fab4m/password package provides form fields for passwords.",source:"@site/docs/packages/password.md",sourceDirName:"packages",slug:"/packages/password",permalink:"/docs/packages/password",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Date and time",permalink:"/docs/packages/date"},next:{title:"Router forms",permalink:"/docs/packages/routerforms"}},A={},R=[{value:"Installation",id:"installation",level:2},{value:"Using the password fields",id:"using-the-password-fields",level:2},{value:"Widget settings",id:"widget-settings",level:2},{value:"Validating passwords",id:"validating-passwords",level:2},{value:"validPassword",id:"validpassword",level:3},{value:"validOldPassword",id:"validoldpassword",level:3}],M={toc:R};function z(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",(0,s.Z)({},M,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"password"},"Password"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"@fab4m/password")," package provides form fields for passwords."),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)("p",null,"Install the ",(0,n.kt)("inlineCode",{parentName:"p"},"@fab4m/password")," package:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save @fab4m/password\n")),(0,n.kt)("h2",{id:"using-the-password-fields"},"Using the password fields"),(0,n.kt)("p",null,"The package provides the following fields:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"passwordField"),": A basic password input")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"passwordVerifyField"),": A password input with a password verification input field.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"passwordValidateOldField")," A password field with a password validation input field and an extra field to verify the old password."))),(0,n.kt)("p",null,"The following example shows all of the fields in action:"),(0,n.kt)(l.Z,{source:'import * as React from "react";\nimport { createForm, StatefulFormView, content } from "@fab4m/fab4m";\nimport {\n  passwordField,\n  passwordVerifyField,\n  passwordValidateOldField,\n} from "@fab4m/password";\n\nconst form = createForm({\n  password: passwordField({\n    label: "Password",\n  }),\n  verifyDescription: content({}, () => <h3>Password with verifaction</h3>),\n  passwordVerify: passwordVerifyField({\n    label: "Password",\n  }),\n  validateDescription: content({}, () => <h3>Password with validation</h3>),\n  passwordValidate: passwordValidateOldField({\n    label: "Password",\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',example:(0,n.kt)(F,{mdxType:"PasswordFields"}),mdxType:"Example"}),(0,n.kt)("h2",{id:"widget-settings"},"Widget settings"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"passwordVerifyWidget"),", which is used wit the passwordVerifyField has the following settings:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"confirmLabel"),": The label of the confirm password field.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"passwordValidateOldWidget")," has the settings above and these settings:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"oldPassowrdLabel"),": The label of the old password field.")),(0,n.kt)("h2",{id:"validating-passwords"},"Validating passwords"),(0,n.kt)("p",null,"The package comes with two useful validators for your passwords:"),(0,n.kt)("h3",{id:"validpassword"},"validPassword"),(0,n.kt)("p",null,"The validPassword validator allows you to set several constraints on the inputted password:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"minLength"),": The minimal length of the password."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"requiredLetter"),": At least one letter is required."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"requiredNumber"),": At least one number is required."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"requiredSpecialChar"),": At least onje special character is required.")),(0,n.kt)(l.Z,{source:'import * as React from "react";\nimport { createForm, StatefulFormView } from "@fab4m/fab4m";\nimport { passwordField, validPassword } from "@fab4m/password";\n\nconst form = createForm({\n  password: passwordField({\n    label: "Password",\n    validators: [\n      validPassword({\n        minLength: 8,\n        requiredLetter: true,\n        requiredNumber: true,\n        requiredSpecialChar: true,\n      }),\n    ],\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',example:(0,n.kt)(S,{mdxType:"ValidPassword"}),mdxType:"Example"}),(0,n.kt)("h3",{id:"validoldpassword"},"validOldPassword"),(0,n.kt)("p",null,"If you use the passwordValdiateOldField you will need this validator to ensure that the old\npassword is correct. This validator enables you to validate the old password using an async\nfunction that can call your backend to validate it."),(0,n.kt)(l.Z,{source:'import * as React from "react";\nimport { createForm, StatefulFormView } from "@fab4m/fab4m";\nimport { passwordValidateOldField, validOldPassword } from "@fab4m/password";\n\nconst form = createForm({\n  passwordValidate: passwordValidateOldField({\n    label: "Password",\n    validators: [\n      validOldPassword(async (password) => {\n        // You will probably do some request to the backend here.\n        return password === "oldpassword";\n      }),\n    ],\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',example:(0,n.kt)(W,{mdxType:"ValidOldPassword"}),mdxType:"Example"}))}z.isMDXComponent=!0},655:(e,a,t)=>{t.d(a,{mG:()=>r,pi:()=>s});var s=function(){return s=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},s.apply(this,arguments)};function r(e,a,t,s){return new(t||(t=Promise))((function(r,n){function l(e){try{o(s.next(e))}catch(a){n(a)}}function i(e){try{o(s.throw(e))}catch(a){n(a)}}function o(e){var a;e.done?r(e.value):(a=e.value,a instanceof t?a:new t((function(e){e(a)}))).then(l,i)}o((s=s.apply(e,a||[])).next())}))}Object.create;Object.create}}]);