"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4837],{42846:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>J,contentTitle:()=>R,default:()=>U,frontMatter:()=>_,metadata:()=>a,toc:()=>M});const a=JSON.parse('{"id":"packages/password","title":"Password","description":"The @fab4m/password package provides form fields for passwords.","source":"@site/docs/packages/password.md","sourceDirName":"packages","slug":"/packages/password","permalink":"/docs/packages/password","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Form builder","permalink":"/docs/packages/formbuilder"},"next":{"title":"Router forms","permalink":"/docs/packages/routerforms"}}');var t=r(74848),n=r(28453),l=r(53603),i=r(96540),o=r(1173);var d={password:"",confirmPassword:""};function c(e){return e??d}var u={password:"",oldPassword:"",confirmPassword:""};function p(e){return e??u}function m(e){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",className:e.className},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{fill:"green",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))}function h(e){const s=e.theme.classes;return e.valid?i.createElement(m,{className:s.descriptionItemIcon}):i.createElement("div",{className:s.descriptionItemPlaceholder})}var w=e=>{let s="";return e.requiredLetter&&(s+="(?=.*[A-Za-z])"),e.requiredNumber&&(s+="(?=.*\\d)"),e.requiredSpecialChar&&(s+="(?=.*[@$!%*#?&])"),`^${s}.{${e.minLength},}$`},f={name:"password",title:"Password",schema:(e,s)=>{const r=w(e);return"string"===s.type?{pattern:r}:{password:{type:"string",pattern:r}}},validatorInfo:function(e){const s=[];if(!e.value)return null;const r="string"==typeof e.value?e.value:e.value.password;return e.settings.requiredLetter&&s.push(i.createElement("li",{className:e.theme.classes.descriptionItem,key:s.length},i.createElement(h,{valid:/\w/.test(r),theme:e.theme}),i.createElement("span",null,"The password needs to include at least one letter"))),e.settings.requiredNumber&&s.push(i.createElement("li",{className:e.theme.classes.descriptionItem,key:s.length},i.createElement(h,{valid:/[0-9]/.test(r),theme:e.theme}),i.createElement("span",null,"The password needs to include at least one number"))),e.settings.requiredSpecialChar&&s.push(i.createElement("li",{className:e.theme.classes.descriptionItem,key:s.length},i.createElement(h,{valid:/[@$!%*#?&]/.test(r),theme:e.theme}),i.createElement("span",null,"The password needs to include at least one special character"))),i.createElement("ul",{className:e.theme.classes.descriptionList},i.createElement("li",{className:e.theme.classes.descriptionItem},i.createElement(h,{valid:r.length>=e.settings.minLength,theme:e.theme}),i.createElement("span",null,"The password needs to contain at least ",e.settings.minLength," ","characters")),s)},attributes:e=>({pattern:w(e.settings)}),valid:(e,s)=>new RegExp(w(s)).test("string"==typeof e?e:e.password),defaultSettings:{minLength:8,requiredLetter:!0,requiredNumber:!0,requiredSpecialChar:!1},components:["password","passwordVerify","passwordValidateOld"],schemaErrorMessages:()=>({"properties/password/pattern":()=>"The password isn't strong enough"})},v={name:"password",title:"Password verify",schema:()=>({}),defaultSettings:{},components:["passwordVerifyOld"],validate:async(e,s)=>{if(!s.validateOldPassword)return[];return await s.validateOldPassword(e.oldPassword)?[]:[{path:"",message:"The old password did not match."}]},valid:()=>!0};var g={name:"password",title:"Password",dataType:"string"},b={name:"passwordVerify",title:"Password (With verification)",dataType:"object",schema:e=>({type:"object",title:e.label,properties:{password:{type:"string",title:"Password"},confirmPassword:{type:"string",title:"Confirm password",const:{$data:`/${e.name}/password`}}},required:e.required?["password","confirmPassword"]:void 0}),schemaErrorMessages:()=>({"properties/confirmPassword/const":()=>"The passwords don't match"})},x={name:"passwordValidateOld",title:"Password, Validate old password",dataType:"string",schema:e=>({type:"object",title:e.label,properties:{password:{type:"string",title:"Password",minLength:e.required?1:void 0},confirmPassword:{type:"string",title:"Confirm password",minLength:e.required?1:void 0},oldPassword:{type:"string",title:"Old password",minLength:e.required?1:void 0}},required:e.required?["password","confirmPassword","oldPassword"]:void 0})};function j(e){return(0,o._J)({settings:void 0,type:g,widget:P(),...e})}function y(e){return(0,o._J)({settings:{},widget:(0,o.HL)({type:T,settings:{confirmTitle:"Confirm password",oldPasswordLabel:"Old password"}}),type:x,...e})}var q={name:"password",title:"Password",widget:function(e){return i.createElement(o.pd,{...e,type:"password"})},components:["password"],init:P};function P(){return(0,o.HL)({type:q,settings:void 0})}var V={name:"passwordVerify",title:"Password",widget:function(e){const s=e.component,r=`${e.id}_confirm`,a=e.settings.confirmTitle?e.settings.confirmTitle:"Confirm password";return i.createElement(i.Fragment,null,i.createElement("div",{className:e.theme.classes.componentWrapper},i.createElement(o.b9,{...e},i.createElement("input",{type:"password",className:e.theme.classes.input,required:s.required,value:e.value?.password??"",onChange:s=>e.onChange({...c(e.value),password:s.currentTarget.value}),name:`${e.name}[password]`,id:e.id,...e.attributes}))),i.createElement("div",{className:e.theme.classes.componentWrapper},i.createElement(o.b9,{...e,id:r,label:a},i.createElement("input",{type:"password",className:e.theme.classes.input,required:s.required||!!e.value?.password,value:e.value?.confirmPassword??"",onChange:s=>e.onChange({...c(e.value),confirmPassword:s.currentTarget.value}),name:`${e.name}[confirmPassword]`,id:`${e.id}-confirmPassword`,pattern:e.value?`^${e.value.password}$`:void 0}),e.value&&e.value.password.length>0&&e.value.confirmPassword===e.value.password&&i.createElement("div",{className:e.theme.classes.descriptionOk},"The password matches!"))))},components:["passwordVerify"],init:e=>E(e?.confirmTitle)};function E(e="Confirm password"){return(0,o.HL)({type:V,settings:{confirmTitle:e}})}var T={name:"passwordValidateOld",title:"Password",widget:function(e){const s=e.component,r=`${e.id}_confirm`,a=e.settings.confirmTitle?e.settings.confirmTitle:"Confirm password",t=e.settings.oldPasswordLabel??"Old password",n=e.theme.classes;return i.createElement(i.Fragment,null,i.createElement("div",{className:e.theme.classes.componentWrapper},i.createElement(o.ZS,{labelClass:n.label,childrenClass:n.elementWrapper,required:s.required,requiredText:e.labels?.required??"Required",requiredClass:n.requiredIndicator,labelWrapperClass:n.labelWrapper,id:e.name,label:t},i.createElement("input",{type:"password",className:n.input,required:s.required||e.value&&e.value.oldPassword.length>0,value:e.value?.oldPassword,onChange:s=>e.onChange({...p(e.value),oldPassword:s.currentTarget.value}),name:`${e.name}[oldpassword]`,id:`${e.id}_oldpassword`,...e.attributes}))),i.createElement("div",{className:e.theme.classes.componentWrapper},i.createElement(o.ZS,{labelClass:n.label,childrenClass:n.elementWrapper,required:s.required,requiredText:e.labels?.required??"Required",requiredClass:n.requiredIndicator,labelWrapperClass:n.labelWrapper,id:e.id,label:s.label},i.createElement("input",{type:"password",className:n.input,required:s.required,value:e.value?.password,onChange:s=>e.onChange({...p(e.value),password:s.currentTarget.value}),name:`${e.name}[password]`,id:e.id,...e.attributes}))),i.createElement("div",{className:e.theme.classes.componentWrapper},i.createElement(o.ZS,{labelClass:n.label,childrenClass:n.elementWrapper,required:s.required,requiredText:e.labels?.required??"Required",requiredClass:n.requiredIndicator,labelWrapperClass:n.labelWrapper,id:r,label:a},i.createElement("input",{type:"password",className:n.input,required:s.required,value:e.value?.confirmPassword,onChange:s=>e.onChange({...p(e.value),confirmPassword:s.currentTarget.value}),name:`${e.name}[confirmPassword]`,id:`${e.id}_confirm`,pattern:e.value?`^${e.value.password}$`:void 0}),e.value&&e.value.password.length>0&&e.value.confirmPassword===e.value.password&&i.createElement("div",{className:n.descriptionOk},"The password matches!"))))},components:["passwordValidateOld"]};const C=(0,o.DG)({password:j({label:"Password"}),verifyDescription:(0,o.Qs)({},(()=>(0,t.jsx)("h3",{children:"Password with verifaction"}))),passwordVerify:(N={label:"Password"},(0,o._J)({settings:{},widget:E(),type:b,...N})),validateDescription:(0,o.Qs)({},(()=>(0,t.jsx)("h3",{children:"Password with validation"}))),passwordValidate:y({label:"Password"})}).onSubmit((e=>e.preventDefault()));var N;function S(){return(0,t.jsx)(o.WJ,{form:C})}const k='import * as React from "react";\nimport { createForm, StatefulFormView, content } from "@fab4m/fab4m";\nimport {\n  passwordField,\n  passwordVerifyField,\n  passwordValidateOldField,\n} from "@fab4m/password";\n\nconst form = createForm({\n  password: passwordField({\n    label: "Password",\n  }),\n  verifyDescription: content({}, () => <h3>Password with verifaction</h3>),\n  passwordVerify: passwordVerifyField({\n    label: "Password",\n  }),\n  validateDescription: content({}, () => <h3>Password with validation</h3>),\n  passwordValidate: passwordValidateOldField({\n    label: "Password",\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',I=(0,o.DG)({password:j({label:"Password",validators:[(F={minLength:8,requiredLetter:!0,requiredNumber:!0,requiredSpecialChar:!0},{type:f,settings:F??f.defaultSettings})]})}).onSubmit((e=>e.preventDefault()));var F;function L(){return(0,t.jsx)(o.WJ,{form:I})}const A='import * as React from "react";\nimport { createForm, StatefulFormView } from "@fab4m/fab4m";\nimport { passwordField, validPassword } from "@fab4m/password";\n\nconst form = createForm({\n  password: passwordField({\n    label: "Password",\n    validators: [\n      validPassword({\n        minLength: 8,\n        requiredLetter: true,\n        requiredNumber: true,\n        requiredSpecialChar: true,\n      }),\n    ],\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',O=(0,o.DG)({passwordValidate:y({label:"Password",validators:[($=async e=>"oldpassword"===e,{type:v,settings:{validateOldPassword:$}})]})}).onSubmit((e=>e.preventDefault()));var $;function W(){return(0,t.jsx)(o.WJ,{form:O})}const D='import * as React from "react";\nimport { createForm, StatefulFormView } from "@fab4m/fab4m";\nimport { passwordValidateOldField, validOldPassword } from "@fab4m/password";\n\nconst form = createForm({\n  passwordValidate: passwordValidateOldField({\n    label: "Password",\n    validators: [\n      validOldPassword(async (password) => {\n        // You will probably do some request to the backend here.\n        return password === "oldpassword";\n      }),\n    ],\n  }),\n}).onSubmit((e) => e.preventDefault());\n\nexport default function PasswordFields() {\n  return <StatefulFormView form={form} />;\n}\n',_={},R="Password",J={},M=[{value:"Installation",id:"installation",level:2},{value:"Using the password fields",id:"using-the-password-fields",level:2},{value:"Widget settings",id:"widget-settings",level:2},{value:"Validating passwords",id:"validating-passwords",level:2},{value:"validPassword",id:"validpassword",level:3},{value:"validOldPassword",id:"validoldpassword",level:3}];function z(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"password",children:"Password"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"@fab4m/password"})," package provides form fields for passwords."]}),"\n",(0,t.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsxs)(s.p,{children:["Install the ",(0,t.jsx)(s.code,{children:"@fab4m/password"})," package:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npm install --save @fab4m/password\n"})}),"\n",(0,t.jsx)(s.h2,{id:"using-the-password-fields",children:"Using the password fields"}),"\n",(0,t.jsx)(s.p,{children:"The package provides the following fields:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"passwordField"}),": A basic password input"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"passwordVerifyField"}),": A password input with a password verification input field."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"passwordValidateOldField"})," A password field with a password validation input field and an extra field to verify the old password."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"The following example shows all of the fields in action:"}),"\n",(0,t.jsx)(l.A,{source:k,example:(0,t.jsx)(S,{})}),"\n",(0,t.jsx)(s.h2,{id:"widget-settings",children:"Widget settings"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"passwordVerifyWidget"}),", which is used wit the passwordVerifyField has the following settings:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"confirmLabel"}),": The label of the confirm password field."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"passwordValidateOldWidget"})," has the settings above and these settings:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"oldPassowrdLabel"}),": The label of the old password field."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"validating-passwords",children:"Validating passwords"}),"\n",(0,t.jsx)(s.p,{children:"The package comes with two useful validators for your passwords:"}),"\n",(0,t.jsx)(s.h3,{id:"validpassword",children:"validPassword"}),"\n",(0,t.jsx)(s.p,{children:"The validPassword validator allows you to set several constraints on the inputted password:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"minLength"}),": The minimal length of the password."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"requiredLetter"}),": At least one letter is required."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"requiredNumber"}),": At least one number is required."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"requiredSpecialChar"}),": At least onje special character is required."]}),"\n"]}),"\n",(0,t.jsx)(l.A,{source:A,example:(0,t.jsx)(L,{})}),"\n",(0,t.jsx)(s.h3,{id:"validoldpassword",children:"validOldPassword"}),"\n",(0,t.jsx)(s.p,{children:"If you use the passwordValdiateOldField you will need this validator to ensure that the old\npassword is correct. This validator enables you to validate the old password using an async\nfunction that can call your backend to validate it."}),"\n",(0,t.jsx)(l.A,{source:D,example:(0,t.jsx)(W,{})})]})}function U(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(z,{...e})}):z(e)}},79329:(e,s,r)=>{r.d(s,{A:()=>l});r(96540);var a=r(34164);const t={tabItem:"tabItem_Ymn6"};var n=r(74848);function l(e){let{children:s,hidden:r,className:l}=e;return(0,n.jsx)("div",{role:"tabpanel",className:(0,a.A)(t.tabItem,l),hidden:r,children:s})}},65537:(e,s,r)=>{r.d(s,{A:()=>y});var a=r(96540),t=r(34164),n=r(65627),l=r(56347),i=r(50372),o=r(30604),d=r(11861),c=r(78749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:s,children:r}=e;return(0,a.useMemo)((()=>{const e=s??function(e){return u(e).map((e=>{let{props:{value:s,label:r,attributes:a,default:t}}=e;return{value:s,label:r,attributes:a,default:t}}))}(r);return function(e){const s=(0,d.XI)(e,((e,s)=>e.value===s.value));if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[s,r])}function m(e){let{value:s,tabValues:r}=e;return r.some((e=>e.value===s))}function h(e){let{queryString:s=!1,groupId:r}=e;const t=(0,l.W6)(),n=function(e){let{queryString:s=!1,groupId:r}=e;if("string"==typeof s)return s;if(!1===s)return null;if(!0===s&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:s,groupId:r});return[(0,o.aZ)(n),(0,a.useCallback)((e=>{if(!n)return;const s=new URLSearchParams(t.location.search);s.set(n,e),t.replace({...t.location,search:s.toString()})}),[n,t])]}function w(e){const{defaultValue:s,queryString:r=!1,groupId:t}=e,n=p(e),[l,o]=(0,a.useState)((()=>function(e){let{defaultValue:s,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!m({value:s,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${s}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return s}const a=r.find((e=>e.default))??r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:s,tabValues:n}))),[d,u]=h({queryString:r,groupId:t}),[w,f]=function(e){let{groupId:s}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(s),[t,n]=(0,c.Dv)(r);return[t,(0,a.useCallback)((e=>{r&&n.set(e)}),[r,n])]}({groupId:t}),v=(()=>{const e=d??w;return m({value:e,tabValues:n})?e:null})();(0,i.A)((()=>{v&&o(v)}),[v]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:n}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),f(e)}),[u,f,n]),tabValues:n}}var f=r(9136);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(74848);function b(e){let{className:s,block:r,selectedValue:a,selectValue:l,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,n.a_)(),c=e=>{const s=e.currentTarget,r=o.indexOf(s),t=i[r].value;t!==a&&(d(s),l(t))},u=e=>{let s=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;s=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;s=o[r]??o[o.length-1];break}}s?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},s),children:i.map((e=>{let{value:s,label:r,attributes:n}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:a===s?0:-1,"aria-selected":a===s,ref:e=>{o.push(e)},onKeyDown:u,onClick:c,...n,className:(0,t.A)("tabs__item",v.tabItem,n?.className,{"tabs__item--active":a===s}),children:r??s},s)}))})}function x(e){let{lazy:s,children:r,selectedValue:n}=e;const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(s){const e=l.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:l.map(((e,s)=>(0,a.cloneElement)(e,{key:s,hidden:e.props.value!==n})))})}function j(e){const s=w(e);return(0,g.jsxs)("div",{className:(0,t.A)("tabs-container",v.tabList),children:[(0,g.jsx)(b,{...s,...e}),(0,g.jsx)(x,{...s,...e})]})}function y(e){const s=(0,f.A)();return(0,g.jsx)(j,{...e,children:u(e.children)},String(s))}},53603:(e,s,r)=>{r.d(s,{A:()=>o});r(96540);var a=r(35363),t=r(55875),n=r(65537),l=r(79329),i=r(74848);function o(e){return(0,i.jsxs)(n.A,{children:[(0,i.jsx)(l.A,{value:"code",label:"Code",children:(0,i.jsx)(t.A,{language:"jsx",children:e.source})}),(0,i.jsx)(l.A,{value:"example",label:"Example",children:(0,i.jsx)(a.A,{children:()=>e.example})})]})}}}]);